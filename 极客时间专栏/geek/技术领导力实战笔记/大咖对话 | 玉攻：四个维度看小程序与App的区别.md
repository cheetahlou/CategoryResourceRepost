<audio id="audio" title="大咖对话 | 玉攻：四个维度看小程序与App的区别" controls="" preload="none"><source id="mp3" src="https://static001.geekbang.org/resource/audio/6a/3d/6a9e88867e175b88683a6ac90f2a223d.mp3"></audio>

你好！

本周大咖对话的嘉宾是蚂蚁金服资深技术专家，蚂蚁金融科技产品研发团队主管玉攻，目前主要负责金融级云产品的架构和研发工作。2015 年加入蚂蚁金服，并作为金融科技核心创始团队成员，领导和创立了蚂蚁金服的第一代 PaaS 云平台产品蚂蚁金融云。

小程序从一开始的无人看好，到后来的风生水起，再到急转直下，现在又要重回巅峰，诸多互联网巨头纷纷发力小程序，那小程序与App之间的区别是什么，如何才能更好的发掘小程序的价值，玉攻与我们分享了他的观点。

**极客时间：在您看来，小程序和App之间最主要的区别是什么？小程序会取代App吗？**<br>
**玉攻：**不会，小程序不会取代App，从用户的角度来看，在一些高频的使用场景，App 的地位从不曾被动摇。一般情况下，用户每天打开使用频率最高的 App 不会超过 10 个。只有一些低频使用的 App 非常适合小程序实现。

从大型企业的角度来看，大型互联网公司往往会采用“App+ 小程序”的模式，小程序会极大地提升 App 用户的活跃度，甚至会成为整个业务产品矩阵中的一部分，但不会替代 App。

从个人开发者和中小型企业的角度来看，小程序的研发和推广成本远远低于 App，在研发初期和新业务试错环节，小程序会优于 App。但随着企业发展成熟，需求增加，功能要求更丰富时，App 的优势就凸显出来了。

从业务的角度，如果某项业务需要短时间依附于大平台生态，借助平台的力量发展，那么小程序要明显优于 App。但当业务逐渐成熟并且被市场认可之后，平台的局限性也会逐渐显现出来，由小程序转向 App 就成了必然。

说到底，小程序和 App 并不矛盾，但是小程序绝对不可能取代 App 的价值。大厂会并行走两条路，App 负责高频场景，小程序负责拉新试错。对于一些快速成长的创业公司，我建议从小程序做起，因为一开始就做 App 的成本非常高，但是先开发小程序，就可以用最低的成本去验证业务的创新性和市场接受度。如果业务上能成功，再去扩展业务模式，继续用小程序或者做成一款 App都可以，所以在一开始用小程序相对来说性价比更高。

小程序近两年确实出现了一些爆款，但在这些爆款背后，其实大多数小程序都死掉了，探究其背后的原因，是因为很多人并没有搞懂小程序的持续迭代，不清楚小程序需要与场景深度结合。由于小程序开发成本低，所以市场上大量小程序都存在很快上线却缺乏维护的问题，没有精心运营，小程序的迭代就成了“死棋”；另外，很多开发者还没有意识到小程序与 App 的区别，只是简单地将 App 现有功能移植到小程序上，在产品形态上只注重功能而忽视了小程序最看重的场景问题，这就解释了为什么有的人开发的 App 活跃度还不错，但转战到小程序却满盘皆输的原因。

对于小程序的未来，我希望小程序的发展不再局限于某一个平台，而是某个操作系统的小程序，甚至成为一种“新型 App”。不过目前阶段，还是要分清小程序和 App 有不同的用处，要根据客群、使用频率来决定最后选择小程序还是 App。

**极客时间：支付宝为什么要做小程序，而支付宝小程序又有哪些独特的地方？**<br>
**玉攻：**支付宝小程序其实是一个极简的服务工具，这与支付宝的定位不谋而合。支付宝小程序可以帮助用户在生活/商业的场景下开发出一些创新型的业务。其实大多数人很多时候并没有意识到自己正在使用的就是支付宝小程序，比如很多人每天去蚂蚁森林浇水，其实蚂蚁森林就是一款支付宝小程序。

支付宝小程序集成了支付宝最核心的一些能力，比如支付、交易、信用、风控、AR 等等，所以在支付宝小程序里我们可以实现很多有创意的想法。举个例子，充电宝其实是基于 [街电] 这样的一个小程序，充分利用支付宝用户的信用和支付能力，产生的一种新型的商业模式。在我看来，支付宝小程序的初衷就是让大众的生活变得更方便，帮助企业更快地触达客户，让创新无处不在。

支付宝小程序是一个前端技术，整个浏览器内核采用 UC 浏览器的内核，WebView 的稳定性和兼容性非常不错，Crash 率只有一般系统 WebView 的 1/5。另外，UC 内核针对内存做了大量的优化，包括图片的内存、渲染内存、JS 内存、峰值内存管理。支付宝小程序的内核启动逻辑是 v8 引擎 CodeCache 深度优化，这使得JS代码解析和编译时间减少 40% 左右。首页的加载和渲染对于冷启动非常关键，为了减少用户在首页显示前的等待时间，支付宝小程序采用离线缓存的方式优化加载流程。

整个阿里经济体在做小程序的时候，强调统一的技术架构和多端投放，我并不希望小程序变成巨头进行技术垄断的手段，或者说技术封闭的一个边界。小程序最大的价值在于真正服务客户，让客户受益，给客户提供更多的渠道，获取更大的流量。

目前在阿里体系里，我们想做统一的小程序，也就是支付宝小程序不仅在支付宝里可以使用到，在其他平台如天猫、淘宝、高德等也可以使用。比如打车，用户既可以从高德平台进入，也可以从支付宝的平台进入；比如某个特卖的小程序，用户有可能是从淘宝的渠道进入，也有可能是从支付宝的渠道进入。所以支付宝小程序不是单一的，它的背后是有强大的“矩阵”在支撑。开发支付宝小程序，表面上获得的是支付宝的渠道优势，其实它背后是整个阿里经济体系的支持。这是其他平台所没有的优势。

**极客时间：普通开发者如何才能更好的发掘小程序的价值呢？**<br>
**玉攻：**其实支付宝小程序云是一个非常好的选择，它能让开发者不需要关心证书、运维、扩容，不需要关心被黑客攻击，只需要专注写好自己的代码和业务逻辑即可。

平台技术一直是我非常感兴趣的方向。我在 IBM 参与过 WebSphere 这样的应用服务器，我也做过 Java 开发。技术的发展在这十几年的时间里，基本实现了基础设施的“云化”。整个业界在最开始做云的时候，真的是“云里雾里”。随着认知的成熟，我们发现云其实是一层一层的，最下面一层叫做 IaaS，相当于把计算存储网络的资源“云化”，所谓的云化就是能够让更多的人以共享的方式使用到这些资源，而不需要自己去做比如购买机器、物理机、买机房设置网络等等这些事情。这个阶段我们称为 Cloud-Based。对于金融行业来说，要想实现云化，其实是需要心理斗争的。但当我们心里迈过这个门槛的时候，我们就进入到 PaaS 层面。

PaaS 层面要解决的问题就是让应用变得更舒服一点。比如原来要开发一个应用，需要考虑如何设计中间件、网关、流控、分布式架构等，当中间件云化之后，需要做的就是保证上层业务的实现，让业务衍生成为一个能够支持一定规模的互联网的产品，这个阶段就是 Cloud-Ready。我在做中间件的时候，发现中间件的未来其实已经往 PaaS 层面发展，中间件的云化可以帮助上层业务更容易地享受到基础设施的便利性。

而我们现在要走的一个方向，其实跟支付宝小程序云服务未来的发展方向是一致的，也就是 Cloud-Native。现在技术圈比较火的就是 Serverless，就是你已经不关心服务器这件事情了，所有的基础设施，包括运维，都已经由云厂商帮助你去解决，而你真正需要关注的只是你的应用和你的业务逻辑。这其实就是支付宝小程序云服务的发展的轨迹。


